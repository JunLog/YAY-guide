# å›æº¯ä¹‹ç»„åˆé—®é¢˜

## ç¬¬77é¢˜. ç»„åˆ

[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/combinations/)

![77.ç»„åˆ1](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210914202625.png)

ä¸Šå›¾å°±æ˜¯å›æº¯æ³•çš„å…¨éƒ¨è¿‡ç¨‹

**ä»¥ä¸Šå›¾è®²è¿°å›æº¯æ³•ä¸‰éƒ¨æ›²**

> å›æº¯å‡½æ•°çš„å‚æ•°

* `startindex`-> ç¼©å°å¯é€‰æ‹©çš„èŒƒå›´ã€‚
* `path []int{}` -> å­˜æ”¾ç¬¦åˆæ¡ä»¶ç»“æœçš„é›†åˆ

* `k`->é›†åˆå†…å…ƒç´ çš„ä¸ªæ•° ï¼ˆç”¨äºç»ˆæ­¢æ¡ä»¶ï¼‰

> å›æº¯å‡½æ•°çš„ç»ˆæ­¢æ¡ä»¶

å¾ˆç®€å•ï¼Œå½“é›†åˆçš„å…ƒç´ é•¿åº¦æ»¡è¶³kï¼Œå°±ç»ˆæ­¢æœ¬å±‚é€’å½’

> å•å±‚æœç´¢çš„è¿‡ç¨‹

æ¨ªå‘å°±æ˜¯`for`å¾ªç¯éå†ç»„åˆ

çºµå‘å°±æ˜¯æ‹¿åˆ°éå†çš„å…ƒç´ ï¼Œç„¶ååå‘å›åˆ°ä¹‹å‰çš„èŠ‚ç‚¹ï¼Œå¼€å§‹é‡æ–°å–æ•°ã€‚



```go
func combine(n int, k int) [][]int {
    result:=[][]int{}
    var backtracking func(int,int,int,[]int)
    //næ˜¯nä¸ªæ•°
    //k:è¿”å›ç»“æœçš„é›†åˆé•¿åº¦
    //startindexï¼šç¼©å°é€‰æ‹©èŒƒå›´
    //path ï¼šå­˜å‚¨æ»¡è¶³è¦æ±‚çš„å…ƒç´ çš„é›†åˆ
    backtracking=func(n ,k,startIndex int ,path []int){
        //ç»ˆæ­¢æ¡ä»¶
        if len(path)==k{
            track:=make([]int,k)
             copy(track,path)
            result=append(result,track)
            return 
        }
        //æ¨ªå‘éå†
        for i:=startIndex;i<=n;i++{
            path=append(path,i)
            //çºµå‘å–æ•°
            backtracking(n,k,i+1,path)
            //å›æº¯ï¼Œå›åˆ°ä¹‹å‰çš„èŠ‚ç‚¹ï¼Œå¼€å§‹å¦ä¸€æ¬¡å–æ•°
            path=path[:len(path)-1]
        }
    }
    backtracking(n,k,1,[]int{})
    return result
}
```



## ç¬¬77é¢˜. ç»„åˆï¼ˆä¼˜åŒ–ï¼‰

å½“è¾“å…¥`n=4ï¼Œk=4`,ä½œä¸ºä¸¾ä¾‹

![77.ç»„åˆ4](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210914210441.png)

é™åˆ¶`for`å¾ªç¯éå†çš„èŒƒå›´ï¼Œå¯ä»**èµ·å§‹ä½ç½®**å’Œ**ç»“æŸä½ç½®**ä¸¤ç§æ–¹å¼è¿›è¡Œé™åˆ¶

èµ·å§‹ä½ç½®é€šè¿‡`startindex`æ¥å®Œæˆã€‚

ç»“æŸä½ç½®åˆ†æ

* å·²ç»é€‰æ‹©çš„å…ƒç´ ä¸ªæ•°ï¼šx
* æœªé€‰æ‹©å…ƒç´ ä¸ªæ•°ï¼šy=k-x
* ç»“æŸä½ç½®ï¼šn-y+1

forå¾ªç¯çš„èŒƒå›´æ˜¯ä¸€ä¸ªé—­åŒºé—´ã€‚

ä¸ºä»€ä¹ˆè¦+1ï¼Ÿ

> ä¸¾ä¾‹ï¼š
>
> è¾“å…¥n=10ï¼Œk=6
>
> å½“x=0ï¼Œé‚£ä¹ˆy=6ï¼Œé‚£ä¹ˆä»æœ«å°¾å¤„ä½ éœ€è¦å‡å°‘5ä¸ªå…ƒç´ ï¼Œå› ä¸º5ä¸ªå…ƒç´ æ€ä¹ˆå–éƒ½æ¯”kå°æ— æ³•æ»¡è¶³ï¼Œç»“æŸä½ç½®å°±æ˜¯10-6+1=5ã€‚ä»5å¼€å§‹åˆ°æœ«å°¾åˆšå¥½æ˜¯6ä¸ªå…ƒç´ ï¼Œå¦‚æœåœ¨å¾€åï¼Œå°±ä¸æ˜¯6ä¸ªå…ƒç´ äº†
>
> ~~æ„Ÿè§‰è¿™ä¸ªå¥½åƒæ˜¯å°å­¦çš„é¢˜ç›®~~ğŸ˜œğŸ˜œğŸ˜œ

ä¼˜åŒ–åçš„ä»£ç 

```go
func combine(n int, k int) [][]int {
    result:=[][]int{}
    var backtracking func(int,int,int,[]int)
    backtracking=func(n ,k,startIndex int ,path []int){
        if len(path)==k{
            track:=make([]int,k)
             copy(track,path)
            result=append(result,track)
            return 
        }
        //é€šè¿‡èµ·å§‹ä½ç½®ä¸ç»“æŸä½ç½®é™åˆ¶forå¾ªç¯çš„èŒƒå›´
        for i:=startIndex;i<=n-(k-len(path))+1;i++{
            path=append(path,i)
            backtracking(n,k,i+1,path)
            path=path[:len(path)-1]
        }
    }
    backtracking(n,k,1,[]int{})
    return result
}
```

## 216.ç»„åˆæ€»å’ŒIII

[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/combination-sum-iii/)

![216.ç»„åˆæ€»å’ŒIII](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210914212643.png)

è¿™ä¸ªé¢˜ç›®å’Œä¸Šä¸€é¢˜ä¸€æ ·çš„æ€è·¯ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯**ç»ˆæ­¢æ¡ä»¶**

è¿™ä¸ªé¢˜ç›®ç»ˆæ­¢æ¡ä»¶å°±æ˜¯ï¼š

kä¸ªæ•°åŠ èµ·æ¥æ»¡è¶³n

è§£æï¼š

* é›†åˆé•¿åº¦ä¸ºk
* é›†åˆçš„å…ƒç´ ä¹‹å’Œä¸ºn

ä»¥ä¸Šéƒ½æ»¡è¶³çš„è¯ï¼Œå°±æ˜¯é¢˜ç›®è¦æ±‚çš„ç»„åˆ

> æ³¨ï¼šè¿™é¢˜ä¹Ÿæ¶‰åŠåˆ°å–æ•°çš„é—®é¢˜ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠä¸Šä¸€é¢˜çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œç”¨åˆ°è¿™é¢˜

è¿™é¢˜çš„å‰ªææœ‰ä¸¤ä¸ªæ–¹é¢ï¼š

* **é›†åˆçš„å…ƒç´ ä¹‹å’Œsumå¤§äºnå°±æ²¡æœ‰å¿…è¦å¾€åå–å€¼äº†**
* **forå¾ªç¯çš„èŒƒå›´é™åˆ¶**

```go
func combinationSum3(k int, n int) [][]int {
    res:=[][]int{}
    var backtracking func(k,n,num,strartindex int,path []int)
    backtracking=func(k,n,num,strartindex int,path []int){
        //å‰ªæ
        //å½“sumå¤§äºè¦æ±‚çš„næ—¶å€™ï¼Œå°±æ²¡æœ‰å¿…è¦å¾€åå–å€¼äº†
        if num>n{
            return
        }
        //ç»ˆæ­¢æ¡ä»¶
        if len(path)==k&&num==n{
            temp:=make([]int,k)
            copy(temp,path)
            res=append(res,temp)
            return 
        }
        //forå¾ªç¯éå†çš„èŒƒå›´
        for i:=strartindex;i<=9-(k-len(path))+1;i++{
            num+=i
            path=append(path,i)
            backtracking(k,n,num,i+1,path)
            num-=i
            path=path[:len(path)-1]
        }
    }
    backtracking(k,n,0,1,[]int{})
    return res
}
```

## 17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ

[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/)

è¿™ä¸ªé¢˜ç›®æ‹¿åˆ°å¯èƒ½æ„Ÿè§‰æœ‰ç‚¹ä¸å¥½å¤„ç†ã€‚å…¶å®æ¢ä¸€ä¸ªæ€è·¯ä½ å°±ä¼šå‘ç°å’Œä¸Šé¢ä¸¤é¢˜å·®ä¸å¤šï¼

![17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210914215243.png)

å°†æ•°å­—2-9ä¸å¯¹åº”çš„å­—æ¯è¿›è¡Œæ˜ å°„åï¼Œä½ ä¼šå‘ç°ä¸ä¹‹å‰çš„ç»„åˆé—®é¢˜åªæœ‰ä¸€ç‚¹ç‚¹çš„ä¸åŒã€‚

ä¸ä¹‹å‰çš„ç»„åˆé—®é¢˜ä¸åŒä¹‹å¤„

ç»„åˆé—®é¢˜ï¼š

* æ¯ä¸€å±‚åœ¨ä¸€ä¸ªç»™å®šçš„ç»„åˆé‡Œé¢è¿›è¡Œå–æ•°
* éœ€è¦é™åˆ¶forå¾ªç¯çš„èŒƒå›´

æ­¤é¢˜ï¼š

* æ¯å±‚éƒ½åœ¨ä¸åŒçš„é›†åˆé‡Œé¢è¿›è¡Œå–æ•°
* ä¸éœ€è¦é™åˆ¶forå¾ªç¯èŒƒå›´ã€‚



```go
func letterCombinations(digits string) []string {
    res:=[]string{}
    if len(digits)==0{
        return res
    }
    //æ•°å­—2-9ä¸å­—æ¯è¿›è¡Œæ˜ å°„
    digitsMap:= [10]string{
         "", // 0
        "", // 1
        "abc", // 2
        "def", // 3
        "ghi", // 4
        "jkl", // 5
        "mno", // 6
        "pqrs", // 7
        "tuv", // 8
        "wxyz", // 9
    }

    var recursion func(digits string,path []byte,index int)
    recursion=func(digits string,path []byte,index int){
        //é™åˆ¶æ¡ä»¶ï¼šç»“æœçš„é•¿åº¦ä¸digitsé•¿åº¦ç›¸ç­‰
        if len(path)==len(digits){
            res=append(res,string(path))
            return 
        }
        number:=digits[index]-'0'
        d:=[]byte(digitsMap[number])//æ‹¿åˆ°æ•°å­—å¯¹åº”çš„å­—ç¬¦ä¸²
        for i:=0;i<len(d);i++{//æ ¹æ®å­—ç¬¦ä¸²è¿›è¡Œå–æ•°ã€‚
            path=append(path,d[i])
            recursion(digits,path,index+1)
            path=path[:len(path)-1]
            
        }
    }
    recursion(digits,[]byte{},0)
    return res
}
```

##  39. ç»„åˆæ€»å’Œ

[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/combination-sum/)

![39.ç»„åˆæ€»å’Œ](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210915133053.png)

è¿™ä¸ªé¢˜ç›®å’Œ[ç»„åˆæ€»å’Œâ…¢](https://leetcode-cn.com/problems/combination-sum-iii/)æ¯”è¾ƒç±»ä¼¼ï¼Œç”šè‡³æ”¹ä¸€ç‚¹ç‚¹å°±å¯ä»¥äº†ã€‚

* æ¯å±‚çš„éå†éœ€è¦é™åˆ¶èŒƒå›´ï¼Œä½†æ˜¯çºµå‘éå†è¿˜æ˜¯ä»å¤´å¼€å§‹ã€‚
* é¢˜ç›®è¦æ±‚çš„é›†åˆç»“æœé•¿åº¦æ²¡æœ‰é™åˆ¶

```go
func combinationSum(candidates []int, target int) [][]int {
    res:=[][]int{}
    var combination func(target int,path []int,sum,index int)
    combination=func(target int,path []int,sum,index int){
        if sum>target{
            return 
        }
        //216å¯¹ç»“æœé•¿åº¦æœ‰é™åˆ¶ï¼Œè¿™é‡Œæ²¡æœ‰
        if sum==target{
            temp:=make([]int,len(path))
            copy(temp,path)
            res=append(res,temp)
            return 
        }
        for i:=index;i<len(candidates);i++{
            path=append(path,candidates[i])
            //è¿™é‡Œçš„indexä¸å†æ˜¯i+1äº†ï¼Œä¸‹ä¸€æ¬¡çš„å–æ•°è¿˜æ˜¯ä»å¤´å¼€å§‹ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯iï¼Œå…¶ä»–çš„éƒ½å¯ä»¥å¤ç”¨216çš„ä»£ç 
            combination(target,path,sum+candidates[i],i)
            path=path[:len(path)-1]
        }
    }
    combination(target,[]int{},0,0)
    return res
}
```

## 40.ç»„åˆæ€»å’ŒII

[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/combination-sum-ii/)

è¿™é¢˜ä¸ç»„åˆæ€»å’Œâ…¡[ç»„åˆæ€»å’Œâ…¡](https://leetcode-cn.com/problems/combination-sum/)ä¸åŒçš„åœ°æ–¹å°±æ˜¯æ¶‰åŠåˆ°é‡å¤æ•°å­—ã€‚

é‡å¤æ˜¯å“ªæ–¹é¢çš„é‡å¤ï¼Ÿæ˜¯ç»„åˆé‡Œé¢ä¸èƒ½æœ‰é‡å¤æ•°å­—ï¼Œè¿˜æ˜¯é‡å¤çš„ç»„åˆ

* `[1,1,2]`è¿™æ˜¯ç»„åˆé‡Œé¢æœ‰é‡å¤æ•°å­—ï¼Œæ­¤é¢˜æ˜¯å¯ä»¥çš„
* `[1,2]`å’Œ`[1,2]`è¿™æ˜¯é‡å¤ç»„åˆï¼ˆ1çš„ä½ç½®ä¸åŒï¼‰

ç»„åˆé‡Œé¢æœ‰é‡å¤æ•°å­—ï¼Œè¿™æ˜¯çºµå‘é€’å½’çš„å–å€¼

é‡å¤ç»„åˆæ˜¯æ¨ªå‘å–å€¼

è¿™ä¸ªé¢˜ç›®åº”è¯¥æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿ

è¿™ä¹Ÿæ˜¯æ­¤é¢˜çš„éš¾ç‚¹æ‰€åœ¨ï¼Œæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ

> æ–¹æ¡ˆä¸€ï¼š
>
> * ç»™æ•°ç»„é‡Œé¢çš„æ•°æ®è¿›è¡Œæ’åº
> * å½“å‰æ•°æ®ä¸ä¹‹å‰åŒä¸€å±‚çš„æ•°æ®ç›¸åŒï¼Œè¯´æ˜å‰é¢çš„æ•°æ®ç”¨è¿‡äº†ï¼ŒåŒä¸€å±‚å½“å‰æ•°æ®éœ€è¦è·³è¿‡
>
> æ–¹æ¡ˆäºŒï¼š
>
> * åˆ©ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•æ¯ä¸ªä½ç½®ä¸Šçš„æ•°æ®æ˜¯å¦ä½¿ç”¨è¿‡
> * å¦‚æœå½“å‰æ•°æ®å’Œä¹‹å‰çš„æ•°æ®ç›¸ç­‰ï¼Œé‚£ä¹ˆçœ‹ä¹‹å‰çš„æ•°æ®æ˜¯å¦ä½¿ç”¨è¿‡
> * used[i - 1] == trueï¼Œè¯´æ˜åŒä¸€æ ‘æ”¯candidates[i - 1]ä½¿ç”¨è¿‡
> * used[i - 1] == falseï¼Œè¯´æ˜åŒä¸€æ ‘å±‚candidates[i - 1]ä½¿ç”¨è¿‡
>
> æ–¹æ¡ˆä¸‰ï¼š
>
> * åˆ©ç”¨mapè®°å½•æ¯ä¸ªä½ç½®ä¸Šçš„æ•°æ®æ˜¯å¦ä½¿ç”¨è¿‡
> * å¦‚æœå½“å‰æ•°æ®å’Œä¹‹å‰çš„æ•°æ®ç›¸ç­‰ï¼Œçœ‹æ˜¯å¦ä½¿ç”¨è¿‡
>   * `true`ä½¿ç”¨è¿‡ï¼Œå½“å‰æ•°æ®ä¸èƒ½ä½¿ç”¨
>   * `false`æœªä½¿ç”¨ï¼Œå½“å‰æ•°æ®å¯ä»¥ä½¿ç”¨

![40.ç»„åˆæ€»å’ŒII1](https://cdn.jsdelivr.net/gh/baici1/image-host/newimg/20210915140139.png)

æ–¹æ¡ˆä¸€ï¼š

```go
func combinationSum2(candidates []int, target int) [][]int {
    sort.Ints(candidates)
    res:=[][]int{}

    var combination func(target,sum,index int,path []int)
    combination=func(target,sum,index int,path []int){
        //å‰ªæ
        if sum>target{
            return
        }
        //ç»ˆæ­¢æ¡ä»¶
        if sum==target{
            temp:=make([]int,len(path))
            copy(temp,path)
            res=append(res,temp)
            return 
        }
        for i:=index;i<len(candidates);i++{
            //å¦‚æœcandidates[i]==candidates[i-1] é‚£ä¹ˆç°åœ¨å½“å‰å…ƒç´ ä¸èƒ½ä½¿ç”¨
            //ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæ­¦æ–­ï¼Ÿ
            //æ•°ç»„ç»è¿‡æ’åºï¼Œç›¸ç­‰çš„æ•°å­—éƒ½åœ¨ä¸€èµ·ï¼Œç„¶ååŒä¸€å±‚ä»å¤´å¼€å§‹éå†ï¼Œé‚£ä¹ˆå½“ç¬¬ä¸€ä¸ªæ•°å­—ä½¿ç”¨è¿‡åï¼Œç›¸ç­‰çš„æ•°å­—åˆ™ä¸èƒ½ä½¿ç”¨äº†ã€‚
            //è¿™ç§æ–¹æ³•åªé€‚ç”¨äºç»“æœæ— åº
            if i>index&&candidates[i]==candidates[i-1]{
                continue
            }
           
            path=append(path,candidates[i])
            combination(target,sum+candidates[i],i+1,path)
            path=path[:len(path)-1]
            
        }
    }
    combination(target,0,0,[]int{})
    return res
}
```

æ–¹æ¡ˆäºŒï¼š

```go
func combinationSum2(candidates []int, target int) [][]int {
    sort.Ints(candidates)
    res:=[][]int{}
    used:=map[int]bool{}
    var combination func(target,sum,index int,path []int)
    combination=func(target,sum,index int,path []int){
        //å‰ªæ
        if sum>target{
            return
        }
        //ç»ˆæ­¢æ¡ä»¶
        if sum==target{
            temp:=make([]int,len(path))
            copy(temp,path)
            res=append(res,temp)
            return 
        }

        for i:=index;i<len(candidates);i++{
            //å› ä¸ºæ­¤é¢˜è¦æ±‚æ˜¯åŒå±‚çš„æ•°æ®ä¸èƒ½é‡å¤å–
            // used[i - 1] == trueï¼Œè¯´æ˜åŒä¸€æ ‘æ”¯candidates[i - 1]ä½¿ç”¨è¿‡
    		// used[i - 1] == falseï¼Œè¯´æ˜åŒä¸€æ ‘å±‚candidates[i - 1]ä½¿ç”¨è¿‡
            //æ ¸å¿ƒæ€æƒ³å’Œæ–¹æ¡ˆä¸€ä¸€è‡´
            if i>0&&candidates[i]==candidates[i-1]&&used[i-1]==false{
                continue
            }
            used[i]=true
            path=append(path,candidates[i])
            combination(target,sum+candidates[i],i+1,path)
            path=path[:len(path)-1]
            used[i]=false
        }
    }
    combination(target,0,0,[]int{})
    return res
}
```

æ–¹æ¡ˆä¸‰ï¼š

```go
func combinationSum2(candidates []int, target int) [][]int {
    sort.Ints(candidates)
    res:=[][]int{}
    
    var combination func(target,sum,index int,path []int)
    combination=func(target,sum,index int,path []int){
        //å‰ªæ
        if sum>target{
            return
        }
        //ç»ˆæ­¢æ¡ä»¶
        if sum==target{
            temp:=make([]int,len(path))
            copy(temp,path)
            res=append(res,temp)
            return 
        }
        //ä¸ºä»€ä¹ˆusedæ”¾åœ¨å‡½æ•°ä¸­ï¼Ÿ
        //å› ä¸ºè¿™ä¸ªæ¶‰åŠåˆ°åŒå±‚çš„æ•°æ®ï¼Œå¯¹äºçºµå‘çš„é€’å½’åˆ™æ— å…³
        used:=map[int]bool{}
        for i:=index;i<len(candidates);i++{
            //å½“candidates[i]==candidates[i-1]å°±çœ‹æ•°å­—æ˜¯å¦ä½¿ç”¨è¿‡
            //è¿™é‡Œused[candidates[i]]==trueçš„iæ˜¯i-1è¿˜æ˜¯iéƒ½æ— æ‰€è°“ï¼Œéƒ½æ˜¯æŒ‡çš„æ˜¯ä¸€ä¸ªæ•°å­—
            if i>0&&candidates[i]==candidates[i-1]&&used[candidates[i]]==true{
                continue
            }
            //å­˜å‚¨æ•°æ®ä½¿ç”¨è®°å½•
            used[candidates[i]]=true
            path=append(path,candidates[i])
            combination(target,sum+candidates[i],i+1,path)
            path=path[:len(path)-1]
            
        }
    }
    combination(target,0,0,[]int{})
    return res
}
```

